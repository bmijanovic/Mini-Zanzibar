import json

from sqlalchemy.orm import Session

from app.database import SessionLocal
from app.schemas import UserCreate, BoardCreate
import app.crud as crud


def insert_initial_data():
    db: Session = SessionLocal()
    try:
        # Create users
        user1 = UserCreate(name="John", surname="Doe", email="john@example.com", password="password123")
        user2 = UserCreate(name="Jane", surname="Smith", email="jane@example.com", password="password123")

        db_user1 = crud.create_user(db, user1)
        db_user2 = crud.create_user(db, user2)
        board='{"document":{"store":{"document:document":{"gridSize":10,"name":"","meta":{},"id":"document:document","typeName":"document"},"page:page":{"meta":{},"id":"page:page","name":"Page 1","index":"a1","typeName":"page"},"shape:4k-wlruYg8J0AAOTbP4L1":{"x":720.7999877929688,"y":221,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:4k-wlruYg8J0AAOTbP4L1","type":"draw","props":{"segments":[{"type":"free","points":[{"x":0,"y":0,"z":0.5},{"x":-4,"y":11.2,"z":0.5},{"x":-10.4,"y":31.2,"z":0.5},{"x":-17.6,"y":48.8,"z":0.5},{"x":-26.4,"y":71.2,"z":0.5},{"x":-36,"y":99.2,"z":0.5},{"x":-47.2,"y":122.4,"z":0.5},{"x":-60,"y":148,"z":0.5},{"x":-69.6,"y":171.2,"z":0.5},{"x":-82.4,"y":196.8,"z":0.5},{"x":-90.4,"y":214.4,"z":0.5},{"x":-98.4,"y":230.4,"z":0.5},{"x":-105.6,"y":243.2,"z":0.5},{"x":-109.6,"y":254.4,"z":0.5},{"x":-115.2,"y":264,"z":0.5},{"x":-118.4,"y":272,"z":0.5},{"x":-120.8,"y":278.4,"z":0.5},{"x":-124.8,"y":281.6,"z":0.5},{"x":-126.4,"y":284,"z":0.5},{"x":-128,"y":286.4,"z":0.5},{"x":-128.8,"y":287.2,"z":0.5},{"x":-131.2,"y":288,"z":0.5},{"x":-132.8,"y":288,"z":0.5},{"x":-133.6,"y":287.2,"z":0.5},{"x":-134.4,"y":284.8,"z":0.5},{"x":-136.8,"y":278.4,"z":0.5},{"x":-138.4,"y":272,"z":0.5},{"x":-140.8,"y":260.8,"z":0.5},{"x":-144,"y":247.2,"z":0.5},{"x":-146.4,"y":226.4,"z":0.5},{"x":-152,"y":192.8,"z":0.5},{"x":-158.4,"y":157.6,"z":0.5},{"x":-162.4,"y":119.2,"z":0.5},{"x":-168,"y":76.8,"z":0.5},{"x":-175.2,"y":37.6,"z":0.5},{"x":-178.4,"y":-9.6,"z":0.5},{"x":-182.4,"y":-45.6,"z":0.5},{"x":-184,"y":-76,"z":0.5},{"x":-187.2,"y":-104.8,"z":0.5},{"x":-188,"y":-121.6,"z":0.5},{"x":-190.4,"y":-134.4,"z":0.5},{"x":-191.2,"y":-143.2,"z":0.5},{"x":-191.2,"y":-148.8,"z":0.5},{"x":-192,"y":-151.2,"z":0.5},{"x":-192.8,"y":-151.2,"z":0.5},{"x":-195.2,"y":-147.2,"z":0.5},{"x":-200,"y":-140.8,"z":0.5},{"x":-214.4,"y":-118.4,"z":0.5},{"x":-220,"y":-105.6,"z":0.5},{"x":-230.4,"y":-88.8,"z":0.5},{"x":-242.4,"y":-70.4,"z":0.5},{"x":-258.4,"y":-45.6,"z":0.5},{"x":-277.6,"y":-18.4,"z":0.5},{"x":-292,"y":1.6,"z":0.5},{"x":-309.6,"y":21.6,"z":0.5},{"x":-327.2,"y":44,"z":0.5},{"x":-343.2,"y":61.6,"z":0.5},{"x":-360.8,"y":76,"z":0.5},{"x":-375.2,"y":88,"z":0.5},{"x":-388.8,"y":96.8,"z":0.5},{"x":-400,"y":102.4,"z":0.5},{"x":-410.4,"y":105.6,"z":0.5},{"x":-419.2,"y":107.2,"z":0.5},{"x":-427.2,"y":110.4,"z":0.5},{"x":-431.2,"y":110.4,"z":0.5},{"x":-436.8,"y":111.2,"z":0.5},{"x":-439.2,"y":111.2,"z":0.5},{"x":-440.8,"y":111.2,"z":0.5},{"x":-442.4,"y":111.2,"z":0.5},{"x":-444,"y":111.2,"z":0.5},{"x":-444.8,"y":111.2,"z":0.5},{"x":-446.4,"y":108,"z":0.5},{"x":-447.2,"y":104,"z":0.5},{"x":-446.4,"y":96.8,"z":0.5},{"x":-445.6,"y":90.4,"z":0.5},{"x":-444.8,"y":83.2,"z":0.5},{"x":-441.6,"y":71.2,"z":0.5},{"x":-438.4,"y":60,"z":0.5},{"x":-433.6,"y":48.8,"z":0.5},{"x":-429.6,"y":39.2,"z":0.5},{"x":-424,"y":30.4,"z":0.5},{"x":-419.2,"y":24.8,"z":0.5},{"x":-414.4,"y":21.6,"z":0.5},{"x":-411.2,"y":19.2,"z":0.5},{"x":-406.4,"y":16,"z":0.5},{"x":-403.2,"y":15.2,"z":0.5},{"x":-400.8,"y":15.2,"z":0.5},{"x":-396.8,"y":15.2,"z":0.5},{"x":-394.4,"y":16.8,"z":0.5},{"x":-390.4,"y":19.2,"z":0.5},{"x":-388,"y":20,"z":0.5},{"x":-385.6,"y":22.4,"z":0.5},{"x":-381.6,"y":26.4,"z":0.5},{"x":-378.4,"y":28.8,"z":0.5},{"x":-376.8,"y":31.2,"z":0.5},{"x":-373.6,"y":33.6,"z":0.5},{"x":-372,"y":36,"z":0.5},{"x":-371.2,"y":36.8,"z":0.5},{"x":-369.6,"y":37.6,"z":0.5},{"x":-366.4,"y":37.6,"z":0.5},{"x":-360.8,"y":37.6,"z":0.5},{"x":-352,"y":34.4,"z":0.5},{"x":-338.4,"y":32,"z":0.5},{"x":-321.6,"y":28.8,"z":0.5},{"x":-301.6,"y":27.2,"z":0.5},{"x":-273.6,"y":28,"z":0.5},{"x":-250.4,"y":32,"z":0.5},{"x":-227.2,"y":35.2,"z":0.5},{"x":-208,"y":40.8,"z":0.5},{"x":-191.2,"y":45.6,"z":0.5},{"x":-180,"y":48.8,"z":0.5},{"x":-172.8,"y":52,"z":0.5},{"x":-167.2,"y":52.8,"z":0.5},{"x":-166.4,"y":53.6,"z":0.5}]}],"color":"black","fill":"none","dash":"draw","size":"m","isComplete":true,"isClosed":false,"isPen":false},"parentId":"page:page","index":"a1","typeName":"shape"},"shape:iL52pxl0-VbVQJxozj0AZ":{"x":580,"y":257.8000183105469,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:iL52pxl0-VbVQJxozj0AZ","type":"draw","props":{"segments":[{"type":"free","points":[{"x":0,"y":0,"z":0.5},{"x":2.4,"y":-4,"z":0.5},{"x":8.8,"y":-8.8,"z":0.5},{"x":14.4,"y":-14.4,"z":0.5},{"x":24.8,"y":-18.4,"z":0.5},{"x":34.4,"y":-23.2,"z":0.5},{"x":44,"y":-24.8,"z":0.5},{"x":53.6,"y":-27.2,"z":0.5},{"x":61.6,"y":-27.2,"z":0.5},{"x":72,"y":-27.2,"z":0.5},{"x":81.6,"y":-24.8,"z":0.5},{"x":90.4,"y":-21.6,"z":0.5},{"x":100,"y":-16,"z":0.5},{"x":107.2,"y":-12,"z":0.5},{"x":113.6,"y":-5.6,"z":0.5},{"x":119.2,"y":-0.8,"z":0.5},{"x":125.6,"y":5.6,"z":0.5},{"x":132,"y":15.2,"z":0.5},{"x":137.6,"y":25.6,"z":0.5},{"x":142.4,"y":36,"z":0.5},{"x":145.6,"y":47.2,"z":0.5},{"x":148.8,"y":58.4,"z":0.5},{"x":151.2,"y":68,"z":0.5},{"x":151.2,"y":78.4,"z":0.5},{"x":149.6,"y":88.8,"z":0.5},{"x":146.4,"y":99.2,"z":0.5},{"x":143.2,"y":108.8,"z":0.5},{"x":139.2,"y":116,"z":0.5},{"x":134.4,"y":124,"z":0.5},{"x":127.2,"y":132.8,"z":0.5},{"x":120.8,"y":141.6,"z":0.5},{"x":110.4,"y":149.6,"z":0.5},{"x":100.8,"y":159.2,"z":0.5},{"x":87.2,"y":169.6,"z":0.5},{"x":75.2,"y":178.4,"z":0.5},{"x":60,"y":186.4,"z":0.5},{"x":48,"y":192,"z":0.5},{"x":35.2,"y":196.8,"z":0.5},{"x":23.2,"y":198.4,"z":0.5},{"x":12,"y":201.6,"z":0.5},{"x":1.6,"y":201.6,"z":0.5},{"x":-10.4,"y":199.2,"z":0.5},{"x":-21.6,"y":196,"z":0.5},{"x":-32.8,"y":190.4,"z":0.5},{"x":-40,"y":181.6,"z":0.5},{"x":-50.4,"y":172,"z":0.5},{"x":-58.4,"y":160.8,"z":0.5},{"x":-64.8,"y":148,"z":0.5},{"x":-70.4,"y":135.2,"z":0.5},{"x":-75.2,"y":123.2,"z":0.5},{"x":-76,"y":111.2,"z":0.5},{"x":-76,"y":101.6,"z":0.5},{"x":-76,"y":92,"z":0.5},{"x":-72.8,"y":84.8,"z":0.5},{"x":-70.4,"y":80.8,"z":0.5},{"x":-65.6,"y":75.2,"z":0.5},{"x":-54.4,"y":70.4,"z":0.5},{"x":-41.6,"y":65.6,"z":0.5},{"x":-27.2,"y":63.2,"z":0.5},{"x":-10.4,"y":63.2,"z":0.5},{"x":9.6,"y":64,"z":0.5},{"x":24.8,"y":66.4,"z":0.5},{"x":41.6,"y":71.2,"z":0.5},{"x":55.2,"y":76,"z":0.5},{"x":68,"y":81.6,"z":0.5},{"x":77.6,"y":87.2,"z":0.5},{"x":86.4,"y":94.4,"z":0.5},{"x":92.8,"y":102.4,"z":0.5},{"x":100.8,"y":111.2,"z":0.5},{"x":104,"y":119.2,"z":0.5},{"x":105.6,"y":128.8,"z":0.5},{"x":108,"y":140,"z":0.5},{"x":106.4,"y":152,"z":0.5},{"x":103.2,"y":164,"z":0.5},{"x":98.4,"y":176,"z":0.5},{"x":90.4,"y":191.2,"z":0.5},{"x":80,"y":212,"z":0.5},{"x":67.2,"y":228.8,"z":0.5},{"x":53.6,"y":244,"z":0.5},{"x":38.4,"y":257.6,"z":0.5},{"x":23.2,"y":272.8,"z":0.5},{"x":8,"y":286.4,"z":0.5},{"x":-6.4,"y":298.4,"z":0.5},{"x":-23.2,"y":309.6,"z":0.5},{"x":-34.4,"y":317.6,"z":0.5},{"x":-46.4,"y":323.2,"z":0.5},{"x":-57.6,"y":328.8,"z":0.5},{"x":-68.8,"y":332,"z":0.5},{"x":-79.2,"y":333.6,"z":0.5},{"x":-92,"y":335.2,"z":0.5},{"x":-102.4,"y":336,"z":0.5},{"x":-112,"y":336,"z":0.5},{"x":-120,"y":336,"z":0.5},{"x":-136,"y":336,"z":0.5},{"x":-144,"y":336,"z":0.5},{"x":-151.2,"y":334.4,"z":0.5},{"x":-156.8,"y":332.8,"z":0.5},{"x":-164,"y":331.2,"z":0.5},{"x":-170.4,"y":325.6,"z":0.5},{"x":-176,"y":321.6,"z":0.5},{"x":-182.4,"y":315.2,"z":0.5},{"x":-188.8,"y":309.6,"z":0.5},{"x":-195.2,"y":301.6,"z":0.5},{"x":-200,"y":294.4,"z":0.5},{"x":-206.4,"y":288,"z":0.5},{"x":-210.4,"y":280.8,"z":0.5},{"x":-216.8,"y":275.2,"z":0.5},{"x":-219.2,"y":272.8,"z":0.5},{"x":-222.4,"y":268.8,"z":0.5},{"x":-224,"y":265.6,"z":0.5},{"x":-224.8,"y":264.8,"z":0.5},{"x":-226.4,"y":264,"z":0.5},{"x":-226.4,"y":263.2,"z":0.5},{"x":-227.2,"y":262.4,"z":0.5},{"x":-228.8,"y":261.6,"z":0.5},{"x":-229.6,"y":260,"z":0.5},{"x":-230.4,"y":259.2,"z":0.5},{"x":-231.2,"y":256.8,"z":0.5},{"x":-232.8,"y":255.2,"z":0.5},{"x":-234.4,"y":252,"z":0.5},{"x":-236,"y":251.2,"z":0.5},{"x":-236.8,"y":248.8,"z":0.5},{"x":-236.8,"y":248,"z":0.5},{"x":-237.6,"y":246.4,"z":0.5},{"x":-237.6,"y":245.6,"z":0.5},{"x":-238.4,"y":244.8,"z":0.5},{"x":-237.6,"y":245.6,"z":0.5},{"x":-232,"y":248,"z":0.5},{"x":-224,"y":248.8,"z":0.5},{"x":-216.8,"y":250.4,"z":0.5},{"x":-207.2,"y":251.2,"z":0.5},{"x":-197.6,"y":253.6,"z":0.5},{"x":-188.8,"y":254.4,"z":0.5},{"x":-177.6,"y":255.2,"z":0.5},{"x":-168,"y":258.4,"z":0.5},{"x":-158.4,"y":260.8,"z":0.5},{"x":-151.2,"y":263.2,"z":0.5},{"x":-144.8,"y":264.8,"z":0.5},{"x":-139.2,"y":265.6,"z":0.5},{"x":-132.8,"y":268,"z":0.5},{"x":-128.8,"y":268.8,"z":0.5},{"x":-125.6,"y":268.8,"z":0.5},{"x":-121.6,"y":268.8,"z":0.5},{"x":-117.6,"y":268.8,"z":0.5},{"x":-113.6,"y":268.8,"z":0.5},{"x":-108.8,"y":265.6,"z":0.5},{"x":-104,"y":264,"z":0.5},{"x":-99.2,"y":262.4,"z":0.5},{"x":-95.2,"y":260,"z":0.5},{"x":-92.8,"y":259.2,"z":0.5},{"x":-90.4,"y":257.6,"z":0.5},{"x":-88.8,"y":256.8,"z":0.5},{"x":-88,"y":256,"z":0.5},{"x":-86.4,"y":254.4,"z":0.5},{"x":-85.6,"y":252.8,"z":0.5},{"x":-84.8,"y":249.6,"z":0.5},{"x":-86.4,"y":239.2,"z":0.5},{"x":-88,"y":232,"z":0.5},{"x":-91.2,"y":224.8,"z":0.5},{"x":-94.4,"y":215.2,"z":0.5},{"x":-99.2,"y":207.2,"z":0.5},{"x":-104,"y":199.2,"z":0.5},{"x":-109.6,"y":191.2,"z":0.5},{"x":-116,"y":182.4,"z":0.5},{"x":-121.6,"y":175.2,"z":0.5},{"x":-126.4,"y":169.6,"z":0.5},{"x":-129.6,"y":164.8,"z":0.5},{"x":-134.4,"y":161.6,"z":0.5},{"x":-138.4,"y":158.4,"z":0.5},{"x":-143.2,"y":156,"z":0.5},{"x":-146.4,"y":155.2,"z":0.5},{"x":-148,"y":155.2,"z":0.5},{"x":-151.2,"y":155.2,"z":0.5},{"x":-153.6,"y":156.8,"z":0.5},{"x":-154.4,"y":157.6,"z":0.5},{"x":-157.6,"y":161.6,"z":0.5},{"x":-158.4,"y":167.2,"z":0.5},{"x":-160,"y":170.4,"z":0.5},{"x":-160,"y":174.4,"z":0.5},{"x":-160.8,"y":178.4,"z":0.5},{"x":-160.8,"y":184,"z":0.5},{"x":-160.8,"y":191.2,"z":0.5},{"x":-160.8,"y":197.6,"z":0.5},{"x":-160,"y":205.6,"z":0.5},{"x":-158.4,"y":212.8,"z":0.5},{"x":-157.6,"y":218.4,"z":0.5},{"x":-153.6,"y":227.2,"z":0.5},{"x":-151.2,"y":233.6,"z":0.5},{"x":-149.6,"y":240,"z":0.5},{"x":-145.6,"y":245.6,"z":0.5},{"x":-144,"y":248.8,"z":0.5},{"x":-142.4,"y":252,"z":0.5},{"x":-140.8,"y":253.6,"z":0.5},{"x":-139.2,"y":255.2,"z":0.5},{"x":-136.8,"y":256,"z":0.5},{"x":-134.4,"y":256,"z":0.5},{"x":-132,"y":256,"z":0.5},{"x":-128,"y":254.4,"z":0.5},{"x":-124.8,"y":249.6,"z":0.5},{"x":-120,"y":243.2,"z":0.5},{"x":-116,"y":233.6,"z":0.5},{"x":-110.4,"y":224.8,"z":0.5},{"x":-105.6,"y":215.2,"z":0.5},{"x":-102.4,"y":205.6,"z":0.5},{"x":-97.6,"y":198.4,"z":0.5},{"x":-94.4,"y":191.2,"z":0.5},{"x":-91.2,"y":185.6,"z":0.5},{"x":-88.8,"y":183.2,"z":0.5},{"x":-88,"y":180.8,"z":0.5},{"x":-86.4,"y":177.6,"z":0.5},{"x":-85.6,"y":175.2,"z":0.5},{"x":-84,"y":173.6,"z":0.5},{"x":-80.8,"y":171.2,"z":0.5},{"x":-79.2,"y":168,"z":0.5},{"x":-75.2,"y":164.8,"z":0.5},{"x":-70.4,"y":160,"z":0.5},{"x":-66.4,"y":155.2,"z":0.5},{"x":-61.6,"y":149.6,"z":0.5},{"x":-57.6,"y":144.8,"z":0.5},{"x":-53.6,"y":140,"z":0.5},{"x":-48.8,"y":136.8,"z":0.5},{"x":-46.4,"y":132,"z":0.5},{"x":-44,"y":128,"z":0.5},{"x":-42.4,"y":124.8,"z":0.5},{"x":-40.8,"y":121.6,"z":0.5},{"x":-39.2,"y":119.2,"z":0.5},{"x":-38.4,"y":117.6,"z":0.5},{"x":-36,"y":115.2,"z":0.5},{"x":-34.4,"y":112.8,"z":0.5},{"x":-32.8,"y":110.4,"z":0.5},{"x":-31.2,"y":106.4,"z":0.5},{"x":-28,"y":104,"z":0.5}]}],"color":"black","fill":"none","dash":"draw","size":"m","isComplete":true,"isClosed":false,"isPen":false},"parentId":"page:page","index":"a2","typeName":"shape"}},"schema":{"schemaVersion":2,"sequences":{"com.tldraw.store":4,"com.tldraw.asset":1,"com.tldraw.camera":1,"com.tldraw.document":2,"com.tldraw.instance":25,"com.tldraw.instance_page_state":5,"com.tldraw.page":1,"com.tldraw.instance_presence":5,"com.tldraw.pointer":1,"com.tldraw.shape":4,"com.tldraw.asset.bookmark":2,"com.tldraw.asset.image":3,"com.tldraw.asset.video":3,"com.tldraw.shape.group":0,"com.tldraw.shape.text":2,"com.tldraw.shape.bookmark":2,"com.tldraw.shape.draw":1,"com.tldraw.shape.geo":8,"com.tldraw.shape.note":6,"com.tldraw.shape.line":4,"com.tldraw.shape.frame":0,"com.tldraw.shape.arrow":4,"com.tldraw.shape.highlight":0,"com.tldraw.shape.embed":4,"com.tldraw.shape.image":3,"com.tldraw.shape.video":2,"com.tldraw.binding.arrow":0}}},"session":{"version":0,"currentPageId":"page:page","exportBackground":true,"isFocusMode":false,"isDebugMode":true,"isToolLocked":false,"isGridMode":false,"pageStates":[{"pageId":"page:page","camera":{"x":0,"y":0,"z":1},"selectedShapeIds":[],"focusedGroupId":null}]}}' # Create boards
        board1 = BoardCreate(name="Board 1", owner_id=db_user1.id, content=json.loads(board))
        board2 = BoardCreate(name="Board 2", owner_id=db_user2.id, content=json.loads(board))

        crud.create_board(db, board1)
        crud.create_board(db, board2)
    finally:
        db.close()
